<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nedo-Enox Company - Complete Web System</title>
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #48bb78;
            --danger: #f56565;
            --warning: #ecc94b;
            --info: #4299e1;
            --dark: #1a202c;
            --light: #f7fafc;
            --gray: #a0aec0;
            --white: #ffffff;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 25px rgba(0,0,0,0.15);
            --radius: 12px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--gradient);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        /* ===== HEADER ===== */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-lg);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        nav {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--dark);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        nav a:hover {
            background: var(--gradient);
            color: white;
        }

        .auth-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .btn-login, .btn-register, .btn-logout {
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
        }

        .btn-login {
            color: var(--primary);
            border-color: var(--primary);
            background: transparent;
        }

        .btn-register {
            background: var(--gradient);
            color: white;
        }

        .btn-logout {
            background: var(--danger);
            color: white;
        }

        /* ===== MAIN CONTAINER ===== */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            box-shadow: var(--shadow-xl);
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== TYPOGRAPHY ===== */
        h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        h2 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        h3 {
            font-size: 1.3rem;
            color: var(--dark);
            margin-bottom: 1rem;
        }

        /* ===== FORMS ===== */
        .form-group {
            margin-bottom: 1.5rem;
        }

        input, textarea, select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 0.5rem 0;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            width: auto;
            margin: 0.25rem;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #2f855a 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #c53030 100%);
        }

        /* ===== CARDS ===== */
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .card {
            background: white;
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .card-icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .card-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--success);
            margin: 1rem 0;
        }

        /* ===== STATUS BADGES ===== */
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-pending {
            background: var(--warning);
            color: #744210;
        }

        .status-approved {
            background: var(--success);
            color: white;
        }

        .status-rejected {
            background: var(--danger);
            color: white;
        }

        /* ===== ALERTS ===== */
        .alert {
            padding: 1rem;
            border-radius: var(--radius);
            margin: 1rem 0;
            text-align: center;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .alert-success {
            background: #c6f6d5;
            color: #22543d;
            border-left: 4px solid var(--success);
        }

        .alert-error {
            background: #fed7d7;
            color: #742a2a;
            border-left: 4px solid var(--danger);
        }

        .alert-info {
            background: #1e79ad;
            color: #d3dae4;
            border-left: 4px solid var(--info);
        }

        /* ===== TABLES ===== */
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            margin: 1rem 0;
        }

        th {
            background: var(--gradient);
            color: white;
            padding: 1rem;
            text-align: left;
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        tr:hover {
            background: #f7fafc;
        }

        /* ===== PROFILE SECTION ===== */
        .profile-section {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: var(--shadow-md);
        }

        /* ===== MESSAGE ITEMS ===== */
        .message-item {
            background: white;
            border-radius: var(--radius);
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--primary);
            box-shadow: var(--shadow-md);
        }

        /* ===== TABS ===== */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            background: #25496e;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            width: auto;
        }

        .tab.active {
            background: var(--gradient);
            color: white;
        }

        /* ===== FILTERS ===== */
        .filters {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: #1e466e;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: auto;
        }

        .filter-btn.active {
            background: var(--gradient);
            color: white;
        }

        /* ===== SEARCH BAR ===== */
        .search-bar {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
        }

        .search-bar input {
            flex: 1;
            margin: 0;
        }

        .search-bar button {
            width: auto;
            padding: 1rem 2rem;
            margin: 0;
        }

        /* ===== LOADING ===== */
        .loading {
            text-align: center;
            padding: 2rem;
        }

        .spinner {
            border: 4px solid rgba(102, 126, 234, 0.1);
            border-left-color: var(--primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav {
                justify-content: center;
            }
            
            .card-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .container {
                margin: 1rem;
                padding: 1rem;
            }
        }

        /* ===== HIDDEN CLASS ===== */
        .hidden {
            display: none !important;
        }

        /* ===== ADMIN SECTION ===== */
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="nedo-enox.png" style=" width: 130px; border-radius: 10px;">
        </div>
        <nav id="mainNav">
            <a onclick="showPage('home')">Home</a>
            <a onclick="showPage('about')">About</a>
            <a onclick="showPage('services')">Services</a>
            <a onclick="showPage('portfolio')">Portfolio</a>
            <a onclick="showPage('blog')">Blog</a>
            <a onclick="showPage('faq')">FAQ</a>
            <a onclick="showPage('contact')">Contact</a>
        </nav>
        <div class="auth-buttons" id="authButtons">
            <button class="btn-login" onclick="showPage('login')">Login</button>
            <button class="btn-register" onclick="showPage('register')">Register</button>
        </div>
    </header>

    <main id="mainContent">
        <!-- Content will be dynamically loaded here -->
        <div class="container" id="homePage">
            <h1>Welcome to Nedo-Enox Company</h1>
            <div style="text-align: center; font-size: 4rem; margin: 2rem 0;">üöÄ</div>
            <h2>We Build Professional Websites That Drive Results</h2>
            <p style="text-align: center; max-width: 800px; margin: 2rem auto;">We are the best company that builds the best websites for you. Our priority is to give you good service and build websites that look better and perform excellently.</p>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin: 3rem 0;">
                <div class="stat-card">
                    <div style="font-size: 2rem;">‚≠ê</div>
                    <h3>100+</h3>
                    <p>Projects Completed</p>
                </div>
                <div class="stat-card">
                    <div style="font-size: 2rem;">üòä</div>
                    <h3>50+</h3>
                    <p>Happy Clients</p>
                </div>
                <div class="stat-card">
                    <div style="font-size: 2rem;">üí™</div>
                    <h3>5+</h3>
                    <p>Years Experience</p>
                </div>
            </div>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem;">
                <div class="card">
                    <div class="card-icon">üé®</div>
                    <h3>Modern Design</h3>
                    <p>Beautiful and responsive designs</p>
                </div>
                <div class="card">
                    <div class="card-icon">‚ö°</div>
                    <h3>Fast Performance</h3>
                    <p>Optimized for speed and SEO</p>
                </div>
                <div class="card">
                    <div class="card-icon">üí∞</div>
                    <h3>Affordable</h3>
                    <p>Competitive pricing for all</p>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div class="container hidden" id="loginPage">
            <h1>Login to Your Account</h1>
            <div style="max-width: 400px; margin: 0 auto;">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email Address">
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password">
                </div>
                <button onclick="loginUser()">Login</button>
                <p style="text-align: center; margin-top: 1rem;">
                    Don't have an account? <a onclick="showPage('register')" style="color: var(--primary); cursor: pointer;">Register here</a>
                </p>
            </div>
        </div>

        <!-- Register Page -->
        <div class="container hidden" id="registerPage">
            <h1>Create New Account</h1>
            <div style="max-width: 400px; margin: 0 auto;">
                <div class="form-group">
                    <input type="text" id="regName" placeholder="Full Name">
                </div>
                <div class="form-group">
                    <input type="email" id="regEmail" placeholder="Email Address">
                </div>
                <div class="form-group">
                    <input type="password" id="regPassword" placeholder="Password (min. 6 characters)">
                </div>
                <div class="form-group">
                    <input type="password" id="regConfirmPassword" placeholder="Confirm Password">
                </div>
                <button onclick="registerUser()">Register</button>
                <p style="text-align: center; margin-top: 1rem;">
                    Already have an account? <a onclick="showPage('login')" style="color: var(--primary); cursor: pointer;">Login here</a>
                </p>
            </div>
        </div>

        <!-- About Page -->
        <div class="container hidden" id="aboutPage">
            <h1>About Nedo-Enox Company</h1>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: center;">
                <div>
                    <div style="font-size: 8rem; text-align: center;">üè¢</div>
                </div>
                <div>
                    <h2>Who We Are</h2>
                    <p>Nedo-Enox Company is a professional web development company that helps businesses and individuals establish a strong online presence. We specialize in modern, responsive websites, and we aim to deliver high-quality solutions that fit your business needs.</p>
                    <p>Our team focuses on creativity, performance, and user experience to ensure your website attracts visitors and converts them into clients.</p>
                </div>
            </div>
            <div style="margin-top: 3rem;">
                <h2>Our Mission</h2>
                <p style="text-align: center; font-size: 1.2rem;">To provide exceptional web development services that help businesses thrive in the digital age through innovative design, cutting-edge technology, and unparalleled customer support.</p>
            </div>
            <div style="margin-top: 3rem;">
                <h2>Our Values</h2>
                <div class="card-container">
                    <div class="card">
                        <div class="card-icon">üéØ</div>
                        <h3>Excellence</h3>
                        <p>We strive for excellence in every project we undertake</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">ü§ù</div>
                        <h3>Integrity</h3>
                        <p>We conduct business with honesty and transparency</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">üí°</div>
                        <h3>Innovation</h3>
                        <p>We embrace new technologies and creative solutions</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Page -->
        <div class="container hidden" id="servicesPage">
            <h1>Our Services</h1>
            <p style="text-align: center;">Choose from a variety of website types with transparent pricing</p>
            
            <div class="filters" id="serviceFilters">
                <button class="filter-btn active" onclick="filterServices('all')">All</button>
                <button class="filter-btn" onclick="filterServices('Business')">Business</button>
                <button class="filter-btn" onclick="filterServices('E-commerce')">E-commerce</button>
                <button class="filter-btn" onclick="filterServices('Portfolio')">Portfolio</button>
                <button class="filter-btn" onclick="filterServices('Blog')">Blog</button>
            </div>

            <div class="card-container" id="servicesContainer"></div>
        </div>

        <!-- Portfolio Page -->
        <div class="container hidden" id="portfolioPage">
            <h1>Our Portfolio</h1>
            <p style="text-align: center;">Take a look at some of our recent projects</p>
            
            <div class="filters" id="portfolioFilters">
                <button class="filter-btn active" onclick="filterPortfolio('all')">All</button>
                <button class="filter-btn" onclick="filterPortfolio('business')">Business</button>
                <button class="filter-btn" onclick="filterPortfolio('ecommerce')">E-commerce</button>
                <button class="filter-btn" onclick="filterPortfolio('portfolio')">Portfolio</button>
            </div>

            <div class="card-container" id="portfolioContainer"></div>
        </div>

        <!-- Blog Page -->
        <div class="container hidden" id="blogPage">
            <h1>Our Blog</h1>
            <p style="text-align: center;">Latest news, tips, and insights</p>
            
            <div class="search-bar">
                <input type="text" id="blogSearch" placeholder="Search blog posts..." onkeyup="searchBlog()">
                <button onclick="searchBlog()">Search</button>
            </div>

            <div class="card-container" id="blogContainer"></div>
        </div>

        <!-- FAQ Page -->
        <div class="container hidden" id="faqPage">
            <h1>Frequently Asked Questions</h1>
            <p style="text-align: center;">Find answers to common questions</p>
            
            <div class="search-bar">
                <input type="text" id="faqSearch" placeholder="Search FAQs..." onkeyup="searchFAQ()">
                <button onclick="searchFAQ()">Search</button>
            </div>

            <div class="filters" id="faqFilters">
                <button class="filter-btn active" onclick="filterFAQ('all')">All</button>
                <button class="filter-btn" onclick="filterFAQ('general')">General</button>
                <button class="filter-btn" onclick="filterFAQ('services')">Services</button>
                <button class="filter-btn" onclick="filterFAQ('payment')">Payment</button>
                <button class="filter-btn" onclick="filterFAQ('technical')">Technical</button>
            </div>

            <div id="faqContainer"></div>
        </div>

        <!-- Contact Page -->
        <div class="container hidden" id="contactPage">
            <h1>Contact Us</h1>
            <p style="text-align: center;">Send us a message and we'll get back to you</p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h3>Send Message</h3>
                    <input type="text" id="contactName" placeholder="Your Name">
                    <input type="email" id="contactEmail" placeholder="Your Email">
                    <textarea id="contactMessage" placeholder="Your Message" rows="5"></textarea>
                    <button onclick="sendMessage()">Send Message</button>
                </div>
                
                <div>
                    <h3>Contact Information</h3>
                    <div class="card">
                        <p><strong>üìç Address:</strong> Kigali, Rwanda</p>
                        <p><strong>üìû Phone:</strong> +250 722 629 149</p>
                        <p><strong>‚úâÔ∏è Email:</strong> dieudonnensengimana84@gmail.com</p>
                        <p><strong>üïí Hours:</strong> Mon-Fri: 8AM - 6PM</p>
                    </div>
                    
                    <div class="card" style="margin-top: 1rem;">
                        <h4>Follow Us</h4>
                        <p>Facebook dieudonne nsengimana | Twitter  dieudonne nsengimana| LinkedIn dieudonne nsengimana | Instagram on nedo.2009</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div class="container hidden" id="dashboardPage">
            <h1>Welcome, <span id="dashboardUserName"></span>!</h1>
            
            <div class="tabs">
                <button class="tab active" onclick="showDashboardTab('services')">Services</button>
                <button class="tab" onclick="showDashboardTab('profile')">Profile</button>
                <button class="tab" onclick="showDashboardTab('payments')">Payments</button>
                <button class="tab" onclick="showDashboardTab('support')">Support</button>
            </div>

            <div id="dashboardContent"></div>
        </div>

        <!-- Admin Dashboard Page -->
        <div class="container hidden" id="adminPage">
            <h1>Admin Dashboard</h1>
            
            <div class="admin-stats" id="adminStats"></div>
            
            <div class="tabs">
                <button class="tab active" onclick="showAdminTab('users')">Users</button>
                <button class="tab" onclick="showAdminTab('payments')">Payments</button>
                <button class="tab" onclick="showAdminTab('services')">Services</button>
                <button class="tab" onclick="showAdminTab('messages')">Messages</button>
                <button class="tab" onclick="showAdminTab('tickets')">Tickets</button>
                <button class="tab" onclick="showAdminTab('testimonials')">Testimonials</button>
            </div>

            <div id="adminContent"></div>
        </div>
    </main>

    <div id="alertContainer"></div>

    <script>
        // ===== DATABASE INITIALIZATION =====
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let services = JSON.parse(localStorage.getItem('services')) || [
            { id: 1, name: 'Business Website', price: 500, category: 'Business', icon: 'üè¢', description: 'Professional business website with 5 pages' },
            { id: 2, name: 'E-commerce Site', price: 1200, category: 'E-commerce', icon: 'üõí', description: 'Full online store with payment integration' },
            { id: 3, name: 'Personal Portfolio', price: 300, category: 'Portfolio', icon: 'üë§', description: 'Showcase your work with style' },
            { id: 4, name: 'Blog Website', price: 400, category: 'Blog', icon: 'üìù', description: 'Share your thoughts with the world' },
            { id: 5, name: 'Landing Page', price: 250, category: 'Marketing', icon: 'üéØ', description: 'High-converting landing page' }
        ];
        let payments = JSON.parse(localStorage.getItem('payments')) || [];
        let contacts = JSON.parse(localStorage.getItem('contacts')) || [];
        let tickets = JSON.parse(localStorage.getItem('tickets')) || [];
        let testimonials = JSON.parse(localStorage.getItem('testimonials')) || [];
        
        // Portfolio items
        const portfolioItems = [
            { id: 1, title: 'Modern Business Website', category: 'business', client: 'ABC Corp', image: 'üè¢', description: 'Professional corporate website' },
            { id: 2, title: 'Fashion E-commerce', category: 'ecommerce', client: 'StyleHub', image: 'üëï', description: 'Online fashion store' },
            { id: 3, title: 'Photography Portfolio', category: 'portfolio', client: 'Sarah Johnson', image: 'üì∏', description: 'Artist portfolio' }
        ];

        // Blog posts
        const blogPosts = [
            { id: 1, title: '10 Tips for Business Websites', excerpt: 'Learn how to create effective business websites', category: 'Web Design', image: 'üíª', author: 'John Doe', date: '2024-01-15' },
            { id: 2, title: 'Mobile-Friendly Design', excerpt: 'Why your site needs to be responsive', category: 'Mobile', image: 'üì±', author: 'Jane Smith', date: '2024-01-10' },
            { id: 3, title: 'SEO Best Practices 2024', excerpt: 'Latest SEO strategies', category: 'SEO', image: 'üîç', author: 'Mike Johnson', date: '2024-01-05' }
        ];

        // FAQs
        const faqs = [
            { id: 1, category: 'general', question: 'What is Nedo-Enox Company?', answer: 'We are a professional web development company.' },
            { id: 2, category: 'services', question: 'What services do you offer?', answer: 'We offer business websites, e-commerce, portfolios, and more.' },
            { id: 3, category: 'payment', question: 'What payment methods do you accept?', answer: 'Mobile Money, Bank Transfer, and Credit Card.' },
            { id: 4, category: 'technical', question: 'How long does development take?', answer: 'Typically 2-4 weeks depending on complexity.' }
        ];

        // Initialize admin if not exists
        if (!users.find(u => u.isAdmin)) {
            users.push({
                id: Date.now(),
                name: 'Admin',
                email: 'admin@nedoenox.com',
                password: btoa('admin123'),
                isAdmin: true,
                createdAt: new Date().toISOString()
            });
            localStorage.setItem('users', JSON.stringify(users));
        }

        // ===== UI FUNCTIONS =====
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('#mainContent > div').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            
            // Load page-specific data
            if (pageId === 'services') loadServices();
            if (pageId === 'portfolio') loadPortfolio();
            if (pageId === 'blog') loadBlog();
            if (pageId === 'faq') loadFAQ();
            if (pageId === 'dashboard') loadDashboard();
            if (pageId === 'admin') loadAdminDashboard();
            
            // Update auth buttons based on login status
            updateAuthButtons();
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            document.getElementById('alertContainer').appendChild(alertDiv);
            
            setTimeout(() => alertDiv.remove(), 3000);
        }

        function updateAuthButtons() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            const authButtons = document.getElementById('authButtons');
            
            if (user) {
                authButtons.innerHTML = `
                    <span style="margin-right: 1rem;">Welcome, ${user.name}</span>
                    <button class="btn-logout" onclick="logout()">Logout</button>
                `;
                
                // Add dashboard link to nav if not admin
                const nav = document.getElementById('mainNav');
                if (user.isAdmin) {
                    if (!nav.innerHTML.includes('Admin')) {
                        nav.innerHTML += '<a onclick="showPage(\'admin\')">Admin</a>';
                    }
                } else {
                    if (!nav.innerHTML.includes('Dashboard')) {
                        nav.innerHTML += '<a onclick="showPage(\'dashboard\')">Dashboard</a>';
                    }
                }
            } else {
                authButtons.innerHTML = `
                    <button class="btn-login" onclick="showPage('login')">Login</button>
                    <button class="btn-register" onclick="showPage('register')">Register</button>
                `;
            }
        }

        // ===== AUTH FUNCTIONS =====
        function registerUser() {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirm = document.getElementById('regConfirmPassword').value;

            if (!name || !email || !password || !confirm) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            if (password !== confirm) {
                showAlert('Passwords do not match', 'error');
                return;
            }

            if (password.length < 6) {
                showAlert('Password must be at least 6 characters', 'error');
                return;
            }

            if (users.find(u => u.email === email)) {
                showAlert('Email already exists', 'error');
                return;
            }

            const newUser = {
                id: Date.now(),
                name,
                email,
                password: btoa(password),
                isAdmin: false,
                createdAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            showAlert('Registration successful! Please login.', 'success');
            showPage('login');
        }

        function loginUser() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            const user = users.find(u => u.email === email && u.password === btoa(password));
            
            if (user) {
                localStorage.setItem('loggedUser', JSON.stringify(user));
                showAlert('Login successful!', 'success');
                updateAuthButtons();
                
                if (user.isAdmin) {
                    showPage('admin');
                } else {
                    showPage('dashboard');
                }
            } else {
                showAlert('Invalid email or password', 'error');
            }
        }

        function logout() {
            localStorage.removeItem('loggedUser');
            showAlert('Logged out successfully', 'success');
            updateAuthButtons();
            showPage('home');
        }

        // ===== SERVICES FUNCTIONS =====
        function loadServices() {
            const container = document.getElementById('servicesContainer');
            container.innerHTML = '';
            
            services.forEach(service => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${service.icon}</div>
                    <h3>${service.name}</h3>
                    <p>${service.description}</p>
                    <p><strong>Category:</strong> ${service.category}</p>
                    <div class="card-price">$${service.price}</div>
                    <button class="btn-small" onclick="requestService('${service.name}', ${service.price})">Request Service</button>
                `;
                container.appendChild(card);
            });
        }

        function filterServices(category) {
            const container = document.getElementById('servicesContainer');
            container.innerHTML = '';
            
            const filtered = category === 'all' ? services : services.filter(s => s.category === category);
            
            filtered.forEach(service => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${service.icon}</div>
                    <h3>${service.name}</h3>
                    <p>${service.description}</p>
                    <p><strong>Category:</strong> ${service.category}</p>
                    <div class="card-price">$${service.price}</div>
                    <button class="btn-small" onclick="requestService('${service.name}', ${service.price})">Request Service</button>
                `;
                container.appendChild(card);
            });

            // Update active filter
            document.querySelectorAll('#serviceFilters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function requestService(serviceName, price) {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            if (!user) {
                showAlert('Please login first', 'error');
                showPage('login');
                return;
            }

            const payment = {
                id: Date.now(),
                service: serviceName,
                price: price,
                phone: "0722629149",
                user: user.email,
                userName: user.name,
                date: new Date().toISOString(),
                status: 'pending'
            };

            payments.push(payment);
            localStorage.setItem('payments', JSON.stringify(payments));
            
            showAlert(`Payment request for "${serviceName}" ($${price}) saved. Please pay to 0722629149`, 'success');
        }

        // ===== PORTFOLIO FUNCTIONS =====
        function loadPortfolio() {
            const container = document.getElementById('portfolioContainer');
            container.innerHTML = '';
            
            portfolioItems.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${item.image}</div>
                    <h3>${item.title}</h3>
                    <p><strong>Client:</strong> ${item.client}</p>
                    <p>${item.description}</p>
                    <span class="status-badge" style="background: var(--primary); color: white;">${item.category}</span>
                `;
                container.appendChild(card);
            });
        }

        function filterPortfolio(category) {
            const container = document.getElementById('portfolioContainer');
            container.innerHTML = '';
            
            const filtered = category === 'all' ? portfolioItems : portfolioItems.filter(i => i.category === category);
            
            filtered.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${item.image}</div>
                    <h3>${item.title}</h3>
                    <p><strong>Client:</strong> ${item.client}</p>
                    <p>${item.description}</p>
                    <span class="status-badge" style="background: var(--primary); color: white;">${item.category}</span>
                `;
                container.appendChild(card);
            });
        }

        // ===== BLOG FUNCTIONS =====
        function loadBlog() {
            const container = document.getElementById('blogContainer');
            container.innerHTML = '';
            
            blogPosts.forEach(post => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${post.image}</div>
                    <h3>${post.title}</h3>
                    <p>${post.excerpt}</p>
                    <p><small>By ${post.author} on ${post.date}</small></p>
                    <span class="status-badge" style="background: var(--info); color: white;">${post.category}</span>
                `;
                container.appendChild(card);
            });
        }

        function searchBlog() {
            const query = document.getElementById('blogSearch').value.toLowerCase();
            const container = document.getElementById('blogContainer');
            container.innerHTML = '';
            
            const filtered = blogPosts.filter(post => 
                post.title.toLowerCase().includes(query) || 
                post.excerpt.toLowerCase().includes(query)
            );
            
            filtered.forEach(post => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-icon">${post.image}</div>
                    <h3>${post.title}</h3>
                    <p>${post.excerpt}</p>
                    <p><small>By ${post.author} on ${post.date}</small></p>
                    <span class="status-badge" style="background: var(--info); color: white;">${post.category}</span>
                `;
                container.appendChild(card);
            });
        }

        // ===== FAQ FUNCTIONS =====
        function loadFAQ() {
            const container = document.getElementById('faqContainer');
            container.innerHTML = '';
            
            faqs.forEach(faq => {
                const card = document.createElement('div');
                card.className = 'card';
                card.style.cursor = 'pointer';
                card.onclick = () => toggleFAQ(faq.id);
                card.innerHTML = `
                    <h3>‚ùì ${faq.question}</h3>
                    <div id="faq-${faq.id}" style="display: none; margin-top: 1rem;">
                        <p>${faq.answer}</p>
                        <span class="status-badge" style="background: var(--primary);">${faq.category}</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function toggleFAQ(id) {
            const answer = document.getElementById(`faq-${id}`);
            answer.style.display = answer.style.display === 'none' ? 'block' : 'none';
        }

        function filterFAQ(category) {
            const container = document.getElementById('faqContainer');
            container.innerHTML = '';
            
            const filtered = category === 'all' ? faqs : faqs.filter(f => f.category === category);
            
            filtered.forEach(faq => {
                const card = document.createElement('div');
                card.className = 'card';
                card.style.cursor = 'pointer';
                card.onclick = () => toggleFAQ(faq.id);
                card.innerHTML = `
                    <h3>‚ùì ${faq.question}</h3>
                    <div id="faq-${faq.id}" style="display: none; margin-top: 1rem;">
                        <p>${faq.answer}</p>
                        <span class="status-badge" style="background: var(--primary);">${faq.category}</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function searchFAQ() {
            const query = document.getElementById('faqSearch').value.toLowerCase();
            const container = document.getElementById('faqContainer');
            container.innerHTML = '';
            
            const filtered = faqs.filter(faq => 
                faq.question.toLowerCase().includes(query) || 
                faq.answer.toLowerCase().includes(query)
            );
            
            filtered.forEach(faq => {
                const card = document.createElement('div');
                card.className = 'card';
                card.style.cursor = 'pointer';
                card.onclick = () => toggleFAQ(faq.id);
                card.innerHTML = `
                    <h3>‚ùì ${faq.question}</h3>
                    <div id="faq-${faq.id}" style="display: none; margin-top: 1rem;">
                        <p>${faq.answer}</p>
                        <span class="status-badge" style="background: var(--primary);">${faq.category}</span>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // ===== CONTACT FUNCTIONS =====
        function sendMessage() {
            const name = document.getElementById('contactName').value;
            const email = document.getElementById('contactEmail').value;
            const message = document.getElementById('contactMessage').value;

            if (!name || !email || !message) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            const contact = {
                id: Date.now(),
                name,
                email,
                message,
                date: new Date().toISOString(),
                status: 'unread'
            };

            contacts.push(contact);
            localStorage.setItem('contacts', JSON.stringify(contacts));
            
            showAlert('Message sent successfully! We\'ll get back to you soon.', 'success');
            
            document.getElementById('contactName').value = '';
            document.getElementById('contactEmail').value = '';
            document.getElementById('contactMessage').value = '';
        }

        // ===== DASHBOARD FUNCTIONS =====
        function loadDashboard() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            if (!user) {
                showPage('login');
                return;
            }

            document.getElementById('dashboardUserName').textContent = user.name;
            showDashboardTab('services');
        }

        function showDashboardTab(tab) {
            const content = document.getElementById('dashboardContent');
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            
            // Update tabs
            document.querySelectorAll('#dashboardPage .tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            if (tab === 'services') {
                let html = '<h3>Available Services</h3><div class="card-container">';
                services.forEach(service => {
                    html += `
                        <div class="card">
                            <div class="card-icon">${service.icon}</div>
                            <h3>${service.name}</h3>
                            <p>${service.description}</p>
                            <div class="card-price">$${service.price}</div>
                            <button onclick="requestService('${service.name}', ${service.price})">Request Service</button>
                        </div>
                    `;
                });
                html += '</div>';
                content.innerHTML = html;
            }
            
            else if (tab === 'profile') {
                html = `
                    <h3>My Profile</h3>
                    <div class="profile-section">
                        <input type="text" id="profileName" value="${user.name}" placeholder="Name">
                        <input type="email" id="profileEmail" value="${user.email}" placeholder="Email">
                        <input type="text" id="profilePhone" value="${user.phone || ''}" placeholder="Phone">
                        <textarea id="profileAddress" placeholder="Address">${user.address || ''}</textarea>
                        <button onclick="updateProfile()">Update Profile</button>
                    </div>
                    
                    <h3 style="margin-top: 2rem;">Change Password</h3>
                    <div class="profile-section">
                        <input type="password" id="currentPassword" placeholder="Current Password">
                        <input type="password" id="newPassword" placeholder="New Password">
                        <input type="password" id="confirmPassword" placeholder="Confirm Password">
                        <button onclick="changePassword()">Change Password</button>
                    </div>
                `;
                content.innerHTML = html;
            }
            
            else if (tab === 'payments') {
                const userPayments = payments.filter(p => p.user === user.email).reverse();
                html = '<h3>Payment History</h3>';
                
                if (userPayments.length === 0) {
                    html += '<p>No payment requests yet.</p>';
                } else {
                    html += '<table>';
                    html += '<tr><th>Date</th><th>Service</th><th>Amount</th><th>Status</th></tr>';
                    userPayments.forEach(p => {
                        html += `
                            <tr>
                                <td>${new Date(p.date).toLocaleDateString()}</td>
                                <td>${p.service}</td>
                                <td>$${p.price}</td>
                                <td><span class="status-badge status-${p.status || 'pending'}">${p.status || 'pending'}</span></td>
                            </tr>
                        `;
                    });
                    html += '</table>';
                }
                content.innerHTML = html;
            }
            
            else if (tab === 'support') {
                const userTickets = tickets.filter(t => t.userId === user.id).reverse();
                html = `
                    <h3>Submit Support Ticket</h3>
                    <div class="profile-section">
                        <select id="ticketType">
                            <option value="">Select Issue Type</option>
                            <option value="technical">Technical Issue</option>
                            <option value="billing">Billing Question</option>
                            <option value="service">Service Request</option>
                        </select>
                        <input type="text" id="ticketSubject" placeholder="Subject">
                        <textarea id="ticketMessage" placeholder="Describe your issue..." rows="4"></textarea>
                        <select id="ticketPriority">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                        <button onclick="submitTicket()">Submit Ticket</button>
                    </div>
                    
                    <h3 style="margin-top: 2rem;">Your Tickets</h3>
                `;
                
                if (userTickets.length === 0) {
                    html += '<p>No tickets yet.</p>';
                } else {
                    userTickets.forEach(t => {
                        html += `
                            <div class="message-item">
                                <p><strong>${t.subject}</strong></p>
                                <p>${t.message}</p>
                                <p>Priority: ${t.priority} | Status: <span class="status-badge status-${t.status === 'open' ? 'pending' : 'approved'}">${t.status}</span></p>
                                <small>${new Date(t.date).toLocaleString()}</small>
                            </div>
                        `;
                    });
                }
                content.innerHTML = html;
            }
        }

        function updateProfile() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            const name = document.getElementById('profileName').value;
            const email = document.getElementById('profileEmail').value;
            const phone = document.getElementById('profilePhone').value;
            const address = document.getElementById('profileAddress').value;

            if (!name || !email) {
                showAlert('Name and email are required', 'error');
                return;
            }

            // Update in users array
            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex].name = name;
                users[userIndex].email = email;
                users[userIndex].phone = phone;
                users[userIndex].address = address;
                
                localStorage.setItem('users', JSON.stringify(users));
                
                // Update logged user
                user.name = name;
                user.email = email;
                user.phone = phone;
                user.address = address;
                localStorage.setItem('loggedUser', JSON.stringify(user));
                
                showAlert('Profile updated successfully!', 'success');
            }
        }

        function changePassword() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            const current = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirm = document.getElementById('confirmPassword').value;

            if (!current || !newPass || !confirm) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            if (newPass !== confirm) {
                showAlert('New passwords do not match', 'error');
                return;
            }

            if (newPass.length < 6) {
                showAlert('Password must be at least 6 characters', 'error');
                return;
            }

            if (btoa(current) !== user.password) {
                showAlert('Current password is incorrect', 'error');
                return;
            }

            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex].password = btoa(newPass);
                localStorage.setItem('users', JSON.stringify(users));
                
                user.password = btoa(newPass);
                localStorage.setItem('loggedUser', JSON.stringify(user));
                
                showAlert('Password changed successfully!', 'success');
                
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
            }
        }

        function submitTicket() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            const type = document.getElementById('ticketType').value;
            const subject = document.getElementById('ticketSubject').value;
            const message = document.getElementById('ticketMessage').value;
            const priority = document.getElementById('ticketPriority').value;

            if (!type || !subject || !message) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            const ticket = {
                id: Date.now(),
                userId: user.id,
                userName: user.name,
                userEmail: user.email,
                type,
                subject,
                message,
                priority,
                status: 'open',
                date: new Date().toISOString()
            };

            tickets.push(ticket);
            localStorage.setItem('tickets', JSON.stringify(tickets));
            
            showAlert('Ticket submitted successfully!', 'success');
            showDashboardTab('support');
        }

        // ===== ADMIN FUNCTIONS =====
        function loadAdminDashboard() {
            const user = JSON.parse(localStorage.getItem('loggedUser'));
            if (!user || !user.isAdmin) {
                showPage('home');
                return;
            }

            updateAdminStats();
            showAdminTab('users');
        }

        function updateAdminStats() {
            const stats = document.getElementById('adminStats');
            stats.innerHTML = `
                <div class="stat-card">
                    <h3>${users.length}</h3>
                    <p>Total Users</p>
                </div>
                <div class="stat-card">
                    <h3>${payments.length}</h3>
                    <p>Total Payments</p>
                </div>
                <div class="stat-card">
                    <h3>$${payments.filter(p => p.status === 'approved').reduce((sum, p) => sum + p.price, 0)}</h3>
                    <p>Revenue</p>
                </div>
                <div class="stat-card">
                    <h3>${contacts.filter(c => c.status === 'unread').length}</h3>
                    <p>Unread Messages</p>
                </div>
            `;
        }

        function showAdminTab(tab) {
            const content = document.getElementById('adminContent');
            
            // Update tabs
            document.querySelectorAll('#adminPage .tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');

            if (tab === 'users') {
                let html = '<h3>User Management</h3>';
                users.forEach(user => {
                    html += `
                        <div class="card">
                            <p><strong>Name:</strong> ${user.name}</p>
                            <p><strong>Email:</strong> ${user.email}</p>
                            <p><strong>Role:</strong> ${user.isAdmin ? 'Admin' : 'User'}</p>
                            <p><strong>Joined:</strong> ${new Date(user.createdAt).toLocaleDateString()}</p>
                            ${!user.isAdmin ? `<button class="btn-small btn-danger" onclick="deleteUser(${user.id})">Delete</button>` : ''}
                        </div>
                    `;
                });
                content.innerHTML = html;
            }
            
            else if (tab === 'payments') {
                let html = '<h3>Payment Requests</h3>';
                payments.reverse().forEach(p => {
                    html += `
                        <div class="card">
                            <p><strong>User:</strong> ${p.userName}</p>
                            <p><strong>Service:</strong> ${p.service}</p>
                            <p><strong>Amount:</strong> $${p.price}</p>
                            <p><strong>Status:</strong> <span class="status-badge status-${p.status || 'pending'}">${p.status || 'pending'}</span></p>
                            <p><strong>Date:</strong> ${new Date(p.date).toLocaleString()}</p>
                            <div>
                                ${p.status !== 'approved' ? `<button class="btn-small btn-success" onclick="updatePaymentStatus(${p.id}, 'approved')">Approve</button>` : ''}
                                ${p.status !== 'rejected' ? `<button class="btn-small btn-danger" onclick="updatePaymentStatus(${p.id}, 'rejected')">Reject</button>` : ''}
                            </div>
                        </div>
                    `;
                });
                content.innerHTML = html;
            }
            
            else if (tab === 'services') {
                let html = '<h3>Manage Services</h3>';
                html += '<button class="btn-small btn-success" onclick="showAddServiceForm()">Add New Service</button>';
                html += '<div class="card-container">';
                services.forEach(service => {
                    html += `
                        <div class="card">
                            <div class="card-icon">${service.icon}</div>
                            <h3>${service.name}</h3>
                            <p>${service.description}</p>
                            <p>Category: ${service.category}</p>
                            <div class="card-price">$${service.price}</div>
                            <button class="btn-small btn-danger" onclick="deleteService(${service.id})">Delete</button>
                        </div>
                    `;
                });
                html += '</div>';
                content.innerHTML = html;
            }
            
            else if (tab === 'messages') {
                let html = '<h3>Contact Messages</h3>';
                contacts.reverse().forEach(c => {
                    html += `
                        <div class="message-item">
                            <p><strong>From:</strong> ${c.name} (${c.email})</p>
                            <p><strong>Message:</strong> ${c.message}</p>
                            <p><strong>Status:</strong> <span class="status-badge status-${c.status === 'unread' ? 'pending' : 'approved'}">${c.status}</span></p>
                            <small>${new Date(c.date).toLocaleString()}</small>
                            ${c.status === 'unread' ? `<button class="btn-small btn-success" onclick="markMessageRead(${c.id})">Mark Read</button>` : ''}
                        </div>
                    `;
                });
                content.innerHTML = html;
            }
            
            else if (tab === 'tickets') {
                let html = '<h3>Support Tickets</h3>';
                tickets.reverse().forEach(t => {
                    html += `
                        <div class="card">
                            <p><strong>From:</strong> ${t.userName}</p>
                            <p><strong>Subject:</strong> ${t.subject}</p>
                            <p><strong>Message:</strong> ${t.message}</p>
                            <p><strong>Priority:</strong> ${t.priority}</p>
                            <p><strong>Status:</strong> <span class="status-badge status-${t.status === 'open' ? 'pending' : 'approved'}">${t.status}</span></p>
                            <p><strong>Date:</strong> ${new Date(t.date).toLocaleString()}</p>
                            ${t.status === 'open' ? `<button class="btn-small btn-success" onclick="closeTicket(${t.id})">Close Ticket</button>` : ''}
                        </div>
                    `;
                });
                content.innerHTML = html;
            }
        }

        function updatePaymentStatus(id, status) {
            const payment = payments.find(p => p.id === id);
            if (payment) {
                payment.status = status;
                localStorage.setItem('payments', JSON.stringify(payments));
                showAlert(`Payment ${status}!`, 'success');
                showAdminTab('payments');
                updateAdminStats();
            }
        }

        function deleteUser(id) {
            if (confirm('Are you sure you want to delete this user?')) {
                users = users.filter(u => u.id !== id);
                localStorage.setItem('users', JSON.stringify(users));
                showAlert('User deleted!', 'success');
                showAdminTab('users');
                updateAdminStats();
            }
        }

        function deleteService(id) {
            if (confirm('Are you sure you want to delete this service?')) {
                services = services.filter(s => s.id !== id);
                localStorage.setItem('services', JSON.stringify(services));
                showAlert('Service deleted!', 'success');
                showAdminTab('services');
            }
        }

        function showAddServiceForm() {
            const content = document.getElementById('adminContent');
            content.innerHTML = `
                <h3>Add New Service</h3>
                <div class="profile-section">
                    <input type="text" id="newServiceName" placeholder="Service Name">
                    <input type="number" id="newServicePrice" placeholder="Price">
                    <input type="text" id="newServiceCategory" placeholder="Category">
                    <input type="text" id="newServiceIcon" placeholder="Icon (emoji)">
                    <textarea id="newServiceDesc" placeholder="Description" rows="3"></textarea>
                    <button class="btn-success" onclick="addService()">Add Service</button>
                    <button onclick="showAdminTab('services')">Cancel</button>
                </div>
            `;
        }

        function addService() {
            const name = document.getElementById('newServiceName').value;
            const price = document.getElementById('newServicePrice').value;
            const category = document.getElementById('newServiceCategory').value;
            const icon = document.getElementById('newServiceIcon').value;
            const desc = document.getElementById('newServiceDesc').value;

            if (!name || !price || !category || !icon || !desc) {
                showAlert('Please fill all fields', 'error');
                return;
            }

            const newService = {
                id: Date.now(),
                name,
                price: parseInt(price),
                category,
                icon,
                description: desc
            };

            services.push(newService);
            localStorage.setItem('services', JSON.stringify(services));
            
            showAlert('Service added successfully!', 'success');
            showAdminTab('services');
        }

        function markMessageRead(id) {
            const msg = contacts.find(c => c.id === id);
            if (msg) {
                msg.status = 'read';
                localStorage.setItem('contacts', JSON.stringify(contacts));
                showAlert('Message marked as read', 'success');
                showAdminTab('messages');
            }
        }

        function closeTicket(id) {
            const ticket = tickets.find(t => t.id === id);
            if (ticket) {
                ticket.status = 'closed';
                localStorage.setItem('tickets', JSON.stringify(tickets));
                showAlert('Ticket closed', 'success');
                showAdminTab('tickets');
            }
        }

        // Initialize on load
        window.onload = function() {
            showPage('home');
            updateAuthButtons();
            localStorage.setItem('services', JSON.stringify(services));
        };
    </script>
</body>
</html>